# 魔法少女任务情报模板

这是一个专为魔法少女主题设计的任务情报显示模板，包含正则表达式解析和精美的CSS样式。

## 功能特点

- 🎨 **魔法少女主题设计**：采用粉色、紫色、金色配色方案
- ✨ **动画效果**：边框发光、星星闪烁等魔法元素
- 🎯 **智能解析**：自动解析任务文本并提取关键信息
- 🌈 **威胁等级**：根据威胁等级自动应用不同颜色
- 📱 **响应式设计**：适配不同屏幕尺寸
- 🔧 **易于使用**：简单的API接口

## 文件结构

```
任务情报模板/
├── index.html          # HTML模板文件
├── index.ts           # TypeScript核心逻辑
├── 使用示例.ts         # 使用示例和测试
└── README.md          # 说明文档
```

## 使用方法

### 1. 准备任务文本

任务文本需要按照以下格式：

```
<mission>
任务名称:储物柜恶作剧
威胁等级:一级威胁
情报概要:根据市民报案，新京都市花丘新区电车站的储物柜区域，近期发生多起神秘骚扰事件！受害者在打开储物柜时，会遭到不明粘液状生物的突然袭击！该生物行动迅速，极难捕捉，请各位魔法少女立即前往调查，确保市民安全，恢复公共秩序！
敌人构成:不明数量的D级史莱姆魔物
任务目标:肃清所有藏匿在储物柜中的魔物，解除对市民的威胁。
</mission>
```

### 2. 使用TypeScript API

```typescript
import { MissionParser } from './index';

// 解析任务
const missionData = MissionParser.parseMission(missionText);

if (missionData) {
  // 生成HTML
  const html = MissionParser.generateHTML(missionData);
  
  // 插入到DOM
  document.getElementById('container').innerHTML = html;
}
```

### 3. 直接使用HTML模板

如果使用HTML模板，需要手动替换变量：

- `$1` - 任务名称
- `$2` - 威胁等级
- `$3` - 威胁等级数字（用于CSS类名）
- `$4` - 情报概要
- `$5` - 敌人构成
- `$6` - 任务目标

## 正则表达式

### 主正则表达式

```regex
<mission>\s*任务名称:(.*?)\n威胁等级:(.*?)\n情报概要:(.*?)\n敌人构成:(.*?)\n任务目标:(.*?)\s*<\/mission>
```

**匹配组：**
- `$1` - 任务名称
- `$2` - 威胁等级
- `$3` - 情报概要
- `$4` - 敌人构成
- `$5` - 任务目标

### 威胁等级数字提取

```regex
(\d+)级威胁
```

## 威胁等级颜色

系统会自动根据威胁等级应用不同的颜色：

| 等级 | 颜色 | 含义 |
| ---- | ---- | ---- |
| 1级  | 绿色 | 安全 |
| 2级  | 橙色 | 注意 |
| 3级  | 红色 | 危险 |
| 4级  | 深红 | 高危 |
| 5级  | 紫色 | 灾难 |

## CSS样式特点

### 设计元素

- **渐变背景**：使用紫色到粉色的渐变
- **发光边框**：动态彩虹色边框动画
- **魔法装饰**：星星符号和特殊字符
- **悬停效果**：卡片悬停时的3D效果
- **响应式布局**：适配移动设备

### 动画效果

- `sparkle`：星星闪烁动画
- `borderGlow`：边框发光动画
- 悬停变换：卡片悬停时的位移和阴影变化

## 示例

### 输入文本

```
<mission>
任务名称:储物柜恶作剧
威胁等级:一级威胁
情报概要:根据市民报案，新京都市花丘新区电车站的储物柜区域，近期发生多起神秘骚扰事件！受害者在打开储物柜时，会遭到不明粘液状生物的突然袭击！该生物行动迅速，极难捕捉，请各位魔法少女立即前往调查，确保市民安全，恢复公共秩序！
敌人构成:不明数量的D级史莱姆魔物
任务目标:肃清所有藏匿在储物柜中的魔物，解除对市民的威胁。
</mission>
```

### 输出效果

- 精美的魔法少女风格卡片
- 绿色威胁等级标签（1级）
- 发光边框和星星装饰
- 悬停动画效果
- 响应式布局

## 自定义

### 修改颜色主题

在CSS中修改以下变量：

```css
/* 主色调 */
--primary-color: #8b5cf6;    /* 紫色 */
--secondary-color: #ec4899;  /* 粉色 */
--accent-color: #fbbf24;     /* 金色 */

/* 威胁等级颜色 */
--threat-1: #10b981;         /* 绿色 */
--threat-2: #f59e0b;         /* 橙色 */
--threat-3: #ef4444;         /* 红色 */
--threat-4: #7c2d12;         /* 深红 */
--threat-5: #581c87;         /* 紫色 */
```

### 修改动画效果

调整动画参数：

```css
/* 星星闪烁动画 */
@keyframes sparkle {
  0% { opacity: 0.7; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.1); }
}

/* 边框发光动画 */
@keyframes borderGlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 许可证

MIT License
